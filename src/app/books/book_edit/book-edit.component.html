<div class="container row d-flex mt-5">
  <h1 class="text-center">{{book.book_id == 0 ? 'Add' : 'Edit'}}Book</h1>
  <div class="card col-4 mt-2">
    <div class="card-body">
      <form #bookForm="ngForm">

        <div class="form-group">
          <label for="title">Title</label>
          <input type="text" class="form-control" id="title" placeholder="book title"
                 [(ngModel)]="formBook.book_title" name="title" (change)="checkIfBookTitleIsValid()" required
                 #titleField=
                   "ngModel">
          <div class="alert alert-danger" *ngIf="titleField.invalid && titleField.touched">Title is required</div>
          <div class="alert alert-danger" *ngIf="!bookTitleIsValid && titleField.touched">Title can not be blank</div>

        </div>
        <div class="form-group">
          <label for="authorFName">Author first name</label>
          <input type="text" class="form-control" id="authorFName" placeholder="author first name"
                 [(ngModel)]="formBook.author_fname" name="authorFName" (change)="checkIfAuthorFNameIsValid()"
                 required #authorFNameField="ngModel">
          <div class="alert alert-danger" *ngIf="authorFNameField.invalid && authorFNameField.touched">Author first
            name
            is
            required
          </div>
          <div class="alert alert-danger" *ngIf="!authorFNameIsValid && authorFNameField.touched">Author first name
            can
            not
            be blank
          </div>
        </div>

        <div class="form-group">
          <label for="authorLName">Author last name</label>
          <input type="text" class="form-control" id="authorLName" placeholder="author last name"
                 [(ngModel)]="formBook.author_lname" name="authorLName" (change)="checkIfAuthorLNameIsValid()"
                 required
                 #authorLNameField=
                   "ngModel">
          <div class="alert alert-danger" *ngIf="authorLNameField.invalid && authorLNameField.touched">Author last
            name
            is
            required
          </div>
          <div class="alert alert-danger" *ngIf="!authorLNameIsValid && authorLNameField.touched">Author last name can
            not
            be blank
          </div>

        </div>
        <div class="form-group">
          <label for="published">Published</label>
          <input type="text" class="form-control" id="published" placeholder="published"
                 [(ngModel)]="formBook.published" name="published" (change)="checkIfPublishedYearIsValid()"
                 required
                 #publishedField=
                   "ngModel">
          <div class="alert alert-danger" *ngIf="publishedField.invalid && publishedField.touched">
            Author last name is required
          </div>
          <div class="alert alert-danger" *ngIf="!publishedYearIsValid && publishedField.touched">
            Published year can not be blank
          </div>

        </div>
        <div class="container row d-flex mr-0 ms-0 ps-0 pe-0">
          <button type="button" class="btn btn-primary mt-3" (click)="onSubmit()"
                  [disabled]="bookForm.invalid || !bookTitleIsValid || !authorFNameIsValid || !authorLNameIsValid">Save
          </button>

          <button type="button" class="btn btn-primary mt-3 ml-2" (click)="deleteBook()" *ngIf="action==='edit'">Delete
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

