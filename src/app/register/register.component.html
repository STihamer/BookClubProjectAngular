<div class="container backgroundImage row d-flex justify-content-center align-content-center mt-4">

  <div class="card bg-white col-4  text-dark backgroundImage">
    <div class="card-body text-white fw-bold">
      <form #userForm="ngForm" class="mt-4">

        <div class="form-group align-self-center">
          <label for="title">First name</label>
          <input type="text" class="form-control" id="title" placeholder="first name" name="firstName"
                 [(ngModel)]="newUser.first_name" (ngModelChange)="checkIfFirstNameIsValid()" required
                 #userFNameField="ngModel">

        </div>
        <div>
          <div class="alert alert-danger" *ngIf="userFNameField.invalid && userFNameField.touched">
            First name field is required
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="firstNameContainsNumber">
            The first name must not contain any number
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="firstNameLength && newUser.first_name.length > 0 &&
        !firstNameContainsNumber">
            the first name must have at least 2 characters
          </div>
        </div>
        <div class="form-group">
          <label for="userLastName">Last name </label>
          <input type="text" class="form-control" id="userLastName" placeholder="last name" name="lastName"
                 [(ngModel)]="newUser.last_name" (ngModelChange)="checkIfLastNameIsValid()" required
                 #userLNameField="ngModel">
        </div>
        <div>
          <div class="alert alert-danger" *ngIf="userLNameField.invalid && userLNameField.touched">
            Last name field is required
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="lastNameContainsNumber">
            The last name must not contain any number
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="lastNameLength && newUser.last_name.length > 0 &&
        !lastNameContainsNumber">
            The last name must have at least 2 characters
          </div>
        </div>
        <div class="form-group">
          <label for="userName">User name</label>
          <input type="text" class="form-control" id="userName" placeholder="username" name="username"
                 [(ngModel)]="newUser.username" (ngModelChange)="checkIfUserNameIsValid()"
                 required
                 #userNameField="ngModel">

        </div>
        <div>
          <div class="alert alert-danger" *ngIf="userNameField.invalid && userNameField.touched">
            User name field is required
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="userNameBeginsWithNumber && !userNameField.invalid">
            The user name must not begin with number
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="userNameLength && newUser.username.length > 0 &&
        !userNameBeginsWithNumber">
            The user name must have at least 2 characters
          </div>
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" class="form-control" id="email" placeholder="email" name="email"
                 [(ngModel)]="newUser.user_email" required #emailField="ngModel"
                 (ngModelChange)="checkIfEmailIsValid()">
        </div>
        <div>
          <div class="alert alert-danger" *ngIf="emailField.invalid && emailField.touched">
            Email field is required
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="!userEmailIsValid && newUser.user_email.length > 0">
            This is not a valid email.
          </div>
        </div>
        <div class="form-group">
          <label for="age">Age</label>
          <input type="number" class="form-control" id="age" placeholder="age" name="age"
                 [(ngModel)]="userAge" required #ageField="ngModel" (ngModelChange)="checkIfAgeIsValid()">
        </div>
        <div>
          <div class="alert alert-danger" *ngIf="ageField.invalid && ageField.touched">
            Age field is required
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="!userAgeIsValid && newUser.user_age > 0">
            You need to be above 18 years to register.
          </div>
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" class="form-control" id="password" placeholder="password" name="password"
                 [(ngModel)]="newUser.user_password" (ngModelChange)="checkIfPasswordIsValid()"
                 #passwordField="ngModel" required>
        </div>
        <div>
          <div class="alert alert-danger" *ngIf="passwordField.invalid && passwordField.touched">
            Password field is required
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="newUser.user_password.length <6 &&
          newUser.user_password.length > 0">
            The password must contain at least 6 characters
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="!passwordContent && newUser.user_password.length>0">
            The user name must contain at least one lower case one upper case and one number.
          </div>
        </div>
        <div class="container  row d-flex mr-0 ms-0 ps-0 pe-0">

          <button class="btn btn-success  mt-3" (click)="closeRegistrationComponent()" *ngIf="message != ''">New user
            successfully added
          </button>
          <button type="button" class="btn btn-secondary mt-3 fw-bold" (click)="submit()" *ngIf="message == ''"

                  [disabled] = "userForm.invalid || !firstNameIsValid || !lastNameIsValid || !userNameIsValid ||
                  !userEmailIsValid || !passwordIsValid  || !userAgeIsValid"
          >Register
          </button>
          <button type="button" class="btn btn-secondary mt-3 ml-2 fw-bold" *ngIf="message == ''"
                  (click)="clearDataFromNewUsersForm()">Clear
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

