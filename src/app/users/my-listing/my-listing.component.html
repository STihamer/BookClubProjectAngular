<div *ngIf="!myListingComponentHidden">
  <h1 class="text-start">User s listing</h1>
  <a class="btn btn-warning mb-3" (click)="addMyListing()">add</a>
  <div class="row align-self-center">
    <div class="col-6">
      <div class="input-group mb-3">
        <input type="text" class="form-control" placeholder="searching by  first name or last name"
               aria-label="Recipient's username"
               aria-describedby="button-addon2" [(ngModel)]="searchListing"
               (keyup)="findData(searchListing)" (keydown.backspace)="loadData()">
        <button class="btn btn-outline-secondary" type="button" id="button-addon2"
                (click)="deleteSearchingByFirstNameOrBookTitle()">Abort
        </button>
      </div>
      <table class="table bg-secondary text-light">
        <thead>
        <tr>
          <th>ID</th>
          <th>First name</th>
          <th>Last name</th>
          <th>Book Title</th>
          <th></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let person of personsListingList">
          <td>{{person.id}}</td>
          <td>{{person.firstName}}</td>
          <td>{{person.lastName}}</td>
          <td>{{person.bookTitle}}</td>

          <td>
            <button type="button" class="btn btn-primary" (click)="setMyListing(person.id)"
                    data-bs-toggle="modal" data-bs-target="#exampleModal">Delete
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">

          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body bg-warning">
          <p class="text-dark">Are you sure you want to delete?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="closeModal()">Close</button>
          <button type="button" class="btn btn-primary" (click)="deleteMyListing()" data-bs-dismiss="modal">Delete
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<app-add-my-listing *ngIf="myListingComponentHidden && (action==='add')" [myNewListing]="selectedMyListing"
                    (dataChangedEvent)="loadData()"
></app-add-my-listing>
