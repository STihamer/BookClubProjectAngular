<div class="container backgroundImage row d-flex justify-content-center align-content-center p-0 m-0">

  <div class="card bg-white col-4  text-dark">
    <div class="card-body ">
      <form #userForm="ngForm">

        <div class="form-group align-self-center">
          <label for="title">First name</label>
          <input type="text" class="form-control" id="title" placeholder="first name" name="firstName"
                 [(ngModel)]="newUser.firstName" (ngModelChange)="checkIfFirstNameIsValid()" required
                 #userFNameField="ngModel">

        </div>
        <div>
          <div class="alert alert-danger" *ngIf="userFNameField.invalid && userFNameField.touched">
            First name field is required
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="firstNameContainsNumber">
            The first name must not contain any number
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="firstNameLength && newUser.firstName.length > 0 &&
        !firstNameContainsNumber">
            the first name must have at least 2 characters
          </div>
        </div>
        <div class="form-group">
          <label for="userLastName">Last name </label>
          <input type="text" class="form-control" id="userLastName" placeholder="last name" name="lastName"
                 [(ngModel)]="newUser.lastName" (ngModelChange)="checkIfLastNameIsValid()" required
                 #userLNameField="ngModel">
        </div>
        <div>
          <div class="alert alert-danger" *ngIf="userLNameField.invalid && userLNameField.touched">
            Last name field is required
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="lastNameContainsNumber">
            The last name must not contain any number
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="lastNameLength && newUser.lastName.length > 0 &&
        !lastNameContainsNumber">
            The last name must have at least 2 characters
          </div>
        </div>
        <div class="form-group">
          <label for="userName">User name</label>
          <input type="text" class="form-control" id="userName" placeholder="username" name="username"
                 [(ngModel)]="newUser.username" (ngModelChange)="checkIfUserNameIsValid()"
                 required
                 #userNameField="ngModel">

        </div>
        <div>
          <div class="alert alert-danger" *ngIf="userNameField.invalid && userNameField.touched">
            User name field is required
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="userNameBeginsWithNumber && !userNameField.invalid">
            The user name must not begin with number
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="userNameLength && newUser.username.length > 0 &&
        !userNameBeginsWithNumber">
            The user name must have at least 2 characters
          </div>
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" class="form-control" id="email" placeholder="email" name="email"
                 [(ngModel)]="newUser.userEmail" required #emailField="ngModel"
                 (ngModelChange)="checkIfEmailIsValid()">
        </div>
        <div>
          <div class="alert alert-danger" *ngIf="emailField.invalid && emailField.touched">
            Email field is required
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="!userEmailIsValid && newUser.userEmail.length > 0">
            This is not a valid email.
          </div>
        </div>
        <div class="form-group">
          <label for="age">Age</label>
          <input type="number" class="form-control" id="age" placeholder="age" name="age"
                 [(ngModel)]="userAge" required #ageField="ngModel" (ngModelChange)="checkIfAgeIsValid()">
        </div>
        <div>
          <div class="alert alert-danger" *ngIf="ageField.invalid && ageField.touched">
            Age field is required
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="!userAgeIsValid && newUser.userAge > 0">
            You need to be above 18 years to register.
          </div>
        </div>
        <div class="form-group">
          <label for="sel1">Role</label>
          <select class="form-control" id="sel1" [(ngModel)]="newUser.roleId" required #roleField="ngModel"
                  name="role" (click)="checkIfRoleIsValid()">
            <option value="1">User</option>
            <option value="2">Admin</option>
          </select>
        </div>
        <div>
          <div class="alert alert-danger" *ngIf="!userRoleIsValid && roleField.touched">
            Role field is required
          </div>
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" class="form-control" id="password" placeholder="password" name="password"
                 [(ngModel)]="newUser.password" (ngModelChange)="checkIfPasswordIsValid()"
                 #passwordField="ngModel" required>
        </div>
        <div>
          <div class="alert alert-danger" *ngIf="passwordField.invalid && passwordField.touched">
            Password field is required
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="newUser.password.length <6 &&
          newUser.password.length > 0">
            The password must contain at least 6 characters
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="!passwordContent && newUser.password.length>0">
            The user name must contain at least one lower case one upper case and one number.
          </div>
        </div>
        <div class="container  row d-flex mr-0 ms-0 ps-0 pe-0">

          <button class="btn btn-success  mt-3" (click)="closeAddUserComponent()" *ngIf="message != ''">New user
            successfully added
          </button>
          <button class="btn btn-danger  mt-3" *ngIf="errorMessage != ''" (click)="clearDataFromNewUsersForm()">{{errorMessage}}
          </button>
          <button type="button" class="btn btn-primary mt-3" (click)="submit()" *ngIf="message == ''"

                  [disabled] = "userForm.invalid || !firstNameIsValid || !lastNameIsValid || !userNameIsValid ||
                  !userEmailIsValid || !passwordIsValid || !userRoleIsValid || !userAgeIsValid"
          >Add user
          </button>
          <button type="button" class="btn btn-primary mt-3 ml-2 " *ngIf="message == ''" (click)="clearDataFromNewUsersForm()">Clear
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

